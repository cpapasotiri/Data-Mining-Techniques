<p align="center"><img src="../../logo_el.png" alt="Λογότυπο ΕΚΠΑ DiT" width=50%/></p>

# <center>Τεχνικές Εξόριξης Δεδομένων - Project 1 - Εαρινού Εξαμήνου 2023</center>
<center>Υπεύθυνος Καθηγητής: Γουνόπουλος Δημήτριος</center><br>


## Προσωπικά δεδομένα
<table>
    <tr>
        <th>Επώνυμο</th>
        <th>Όνομα</th>
        <th>Αριθμός Μητρώου</th>
    </tr>
    <tr>
        <td>Παπασωτήρη</td>
        <td>Χριστίνα</td>
        <td>1115201900151</td>
    </tr>
</table>

## Παραδοτέο αρχείο
    sdi1900151_project1.ipynb

## Σκοπός Εργασίας
    Εξοικείωση με τα βασικά στάδια της διαδικασίας που ακολουθούνται για την εφαρμογή τεχνικών εξόρυξης δεδομένων. Συγκεκριμένα τα στάδια αυτά είναι:
        προ-επεξεργασία/καθαρισμός
        μετατροπή
        εφαρμογή τεχνικών εξόρυξης δεδομένων
        αξιολόγηση 
    Η υλοποίηση θα γίνει σε Python με τη χρήση των εξείς εργαλέιων/βιβλιοθηκών:
        jupyter notebook
        pandas
        SciKit Learn

## Περιγραφή Εργασίας  
### Ανάλυση Προσωπικότητας Πελατών
    Μια λεπτομερής ανάλυση των ιδανικών πελατών μιας εταιρείας.
    Βοηθά μια επιχείρηση να κατανοήσει τους πελάτες της καλύτερα και να τροποποιήσει τα προϊόντα της βάση συγκεκριμένων αναγκών, συμπεριφορών και ανησυχιών των διαφόρων τύπων πελατών.
    π.χ. Μια επιχείρηση μπορεί να αναλύσει ποια κατηγορία πελατών είναι πιθανότερο να αγοράσει το προϊόν και να το προωθήσει μόνο στη συγκεκριμένη κατηγορία. 

### Σχετικά με τα δεδομένα
#### **Πληροφορίες για τους πελάτες**
<table>
    <tr>
        <!-- <th>Column</th>
        <th>Meaning</th> -->
    </tr>
    <tr>
        <td>ID</td>
        <td>customer's unique identifier</td>
    </tr>
    <tr>
        <td>Year_Bearth</td>
        <td>customer's birth year</td>
    </tr>
    <tr>
        <td>Education</td>
        <td>customer's education level</td>
    </tr>
    <tr>
        <td>Marital_Status</td>
        <td>customer's marital status</td>
    </tr>
    <tr>
        <td>Income</td>
        <td>customer's yearly hourehold income</td>
    </tr>
   <tr>
        <td>Kidhome</td>
        <td>number of children in customer's household</td>
    </tr>
    <tr>
        <td>Teenhome</td>
        <td>number of teenagers in customer's household</td>
    </tr>
    <tr>
        <td>Dt_Customer</td>
        <td>date of customer's enrollement with the company</td>
    </tr>
    <tr>
        <td>Recency</td>
        <td>number of days since customer's last purchase</td>
    </tr>
    <tr>
        <td>Complain</td>
        <td>1 if the customer complained in the last 2 years, 0 otherwise</td>
    </tr>
</table>

#### **Προϊόντα (ποσά που δαπανήθηκαν σε 2 χρόνια)**
<table>
    <tr>
        <!-- <th>Column</th>
        <th>Meaning</th> -->
    </tr>
    <tr>
        <td> MntWines</td>
        <td>amount spent on wine in last 2 years</td>
    </tr>
    <tr>
        <td>MntFruirs</td>
        <td>amount spent on fruits in last 2 years</td>
    </tr>
    <tr>
        <td>MntMeatProducts</td>
        <td>amount spent on meat in last 2 years</td>
    </tr>
    <tr>
        <td>MntFishProducts</td>
        <td>amount spent on fish in last 2 years</td>
    </tr>
    <tr>
        <td>MntSweetProducts</td>
        <td>amount spent on sweets in last 2 years</td>
    </tr>
    <tr>
        <td>MntGoldProducts</td>
        <td>amount spent on gold in last 2 years</td>
    </tr>
</table>

#### **Προώθηση** 
<table>
    <tr>
        <!-- <th>Column</th>
        <th>Meaning</th> -->
    </tr>
    <tr>
        <td>NumDealsPurchases</td>
        <td>number of purchases made with a discount</td>
    </tr>
    <tr>
        <td>AcceptedCmp1</td>
        <td>1 if customer accepted the offer in the 1st campain, 0 otherwise</td>
    </tr>
    <tr>
        <td>AcceptedCmp2</td>
        <td>1 if customer accepted the offer in the 2nd campain, 0 otherwise</td>
    </tr>
    <tr>
        <td>AcceptedCmp3</td>
        <td>1 if customer accepted the offer in the 3rd campain, 0 otherwise</td>
    </tr>
    <tr>
        <td>AcceptedCmp4</td>
        <td>1 if customer accepted the offer in the 4th campain, 0 otherwise</td>
    </tr>
    <tr>
        <td>AcceptedCmp5</td>
        <td>1 if customer accepted the offer in the 5th campain, 0 otherwise</td>
    </tr>
    <tr>
        <td>Response</td>
        <td>1 if customer accepted the offer in the last campain, 0 otherwise</td>
    </tr>
</table>
    
#### **Προέλευση**
<table>
    <tr>
        <!-- <th>Column</th>
        <th>Meaning</th> -->
    </tr>
    <tr>
        <td>NumWebPurchases</td>
        <td>number of purchases made through the company's website</td>
    </tr>
    <tr>
        <td>NumCatalogPurchases</td>
        <td>number of purchases made using a catalogue</td>
    </tr>
    <tr>
        <td>NumStorePurchases</td>
        <td>number of purchases made directly in stores</td>
    </tr>
    <tr>
        <td>NumWebVisitsMonth</td>
        <td>number of visits to company's website in the last month</td>
    </tr>
</table>

### Ζητούμενα
1. Προεπεξεργασία/Καθάρισμα: 
    * Ελέγξτε αν υπάρχουν τιμές που λείπουν στα δεδομένα και χειριστείτε τις ανάλογα.
    * Μετατρέψτε στήλες που αφορούν ημερομηνίες σε DateTime objects 
    * Ελέγξτε αν υπάρχουν χαρακτηριστικά dtype(object που μπορούμε να κωδικοποιήσουμε/μετατρέψουμε σε αριθμητικές τιμές)

2.  * Εκτύπωση των μοναδικών τιμών στα κατηγορικά χαρακτηριστικά Material_Status και Education για απόκτηση σαφής εικόνας των δεδομένων.
    * Αλλάξτε τις τιμές [Alone, Absurd, YOLO] των Marital_Status με την τιμή 'Single'.
    * Χρήση κάποιου τύπου γραφήματος για παρουσίαση του πλήθους τιμών σε κάθε κατηγορία.

3. Δημιουργία νεων χαρακτηριστικών:
    * Δημιουργία του Customer_For που αντιπροσοπεύει τον αριθμό των ημερών που οι πελάτες άρχισαν να ψωνίζουν στο κατάστημα σε σχέση με την τελευταία καταγεγραμμένη ημερομηνία Recency.
    * Εξαγωγή της ηλικίας Age ενός πελάτη με βάση το Year_Birth που αποδεικνύει το έτος γέννησης του ατόμου.
    * Δημιουργία του Spent που υποδεικνύει το συνολικό ποσό που ξόδεψε ο πελάτης σε όλες τις κατηγορίες σε διάστημα 2 ετών.
    * Δημιουργία του Παιδιά που θα δηλώνει το σύνολο των παιδιών σε ένα νοικοκυριό δηλαδή τα παιδιά και τους εφήβους. 
    * Δημιουργία του Family_Size που δείχνιε τον συνολικό αριθμό ατόμων σε ένα νοικοκυριό.
    * Δημιουργία του Is_Parent που δηλώνει αν ένας πελάτης είναι και γονιός.
    * Δημιουργία του Living_With χρησιμοποιόντας το Marital_Status για να εξάγετε την κατάσταση διαβίωσης των ζευγαριών. Παίρνει τις τιμές 'Partner' και 'Alone'.
    * Δημιουργία του Age_Group με τη χρήση της Age η οποία ομαδοποιεί τις ηλικίες ως εξείς: '21-30', '31-40', '41-50', '51-60', '61-70', '71-80', '>80'. 

4. * Ελέγξτε αν υπάρχουν ακραίες τιμές στα χαρακτηριστικά και διαγράψτε τις από τα δεδομένα.

5. Εξετάστε τη συσχέτιση μεταξύ των χαρακτηριστικών με heatmap διάγραμμα.(Εξαιρώντας τα κατηγορικά χαρακτηριστικά σε αυτό το σημείο).

6. Δημιουργία γραφημάτων για 10/18 από τα ερωτήματα:
    1. Σε ποιά κατηγορία Marital_Status ανήκει το μεγαλύτερο ποσοστό των πελατών της εταιρείας;
    2. Πόσοι πελάτες έχουν κάνει Complain;
    3. Σχέση μεταξύ του αριθμού των αγορών Spent και της οικογενειακής κατάστασης.
    4. Η σχέση μεταξύ του αριθμού των αγορών Spent και του αριθμού των παιδιών και του μεγέθους της οικογένειας.
    5. Τι σχέση έχει η ηλικία Age_Group με το χαρακτηριστικό Spent των αγορών;
    6. Τι σχέση έχει το εισόδημα Incomeμε το χαρακτηριστικό Spent των αγορών;
    7. Ποια είναι η σχέση μεταξύ της εκπαίδευσης και του εισοδήματος;
    8. Ποια είναι η σχέση μεταξύ του εισοδήματος και του μεγέθους της οικογένειας;
    9. Ποια είναι η σχέση μεταξύ του εισοδήματος και του αριθμού των παιδιών;
    10. Ποια είναι η σχέση μεταξύ του εισοδήματος και του Living_With;
    11. Ποια είναι η σχέση μεταξύ του εισοδήματος και του αριθμού Spentτων αγορών;
    12. Ποια είναι η σχέση μεταξύ του αριθμού των αγορών από τον δικτυακό τόπο και του αριθμού των επισκέψεων στον δικτυακό τόπο;
    13. Ποια είναι τελικά το ποσοστό των πελατών που αποδέχονται όλες τις προσφορές από το κατάστημα;
    14. Σχεδιάστε το ιστόγραμμα για τη στήλη NumDealsPurchases.
    15. Σχεδιάστε το ιστόγραμμα για τη στήλη Income.
    16. Σχεδιάστε το ιστόγραμμα για τη στήλη Kidhome.
    17. Σχεδιάστε το ιστόγραμμα για τη στήλη Family_Size.
    18. Οι πελάτες με μεταπτυχιακό τίτλο σπουδών ξοδεύουν περισσότερα χρήματα για κρασί;

7. Principal Component Analysis (PCA):
    Υπάρχουν πολλοί παράγοντες βάση των οποίων γίνεται μία ταξινόμηση. 
    Οι παράγοντες αυτοί είναι είναι βασικά χαρακτηριστικά ή γνωρίσματα. 
    Όσο μεγαλύτερος ο αριθμός των χαρακτηριστικών, τόσο πιο δύσκολη είναι η εργασία.
    Πολλά χαρακτηριστικά είναι συσχετισμένα και κατεπέκταση περιττά.
    Αυτός είναι ο λόγος που θα υλοποιήσουμε τη μείωση διάστασης των επιλεγμένων χαρακτηριστικών.
    Στη διαδικασία αυτή μειώνουμε τον αριθμό των υπό εξέταση τυχαίων μεταβλητών και έχει ως αποτέλεσμα την απόκτηση ενός συνόλου κυρίων μεταβλητών.
    Οι μεταβλητές στο σύνολο των δεδομένων που αφορούν κατηγορίες και όχι αριθμητικές τιμές μετά τις προσθήκες χαακτηριστικών που έγιναν στα προηγούμενα ερωτήματα είναι οι παρακάτω: 'Education', 'Marital_Status', 'Living_With". 
    Για αυτές τις μεταβλητές θα χρησιμοποιήσουμε τον LabelEncoder() ώστε να μετατραπούν σε αριθμητικά δεδομένα (η διαδικασία λέγεται one hot encoding).
    Στη συνέχεια δημιουργήστε ένα αντίγραφο του dataframe το οποίο θα περιέχει όλες τις αριθμητικές στήλες και διαγράψτε τις στήλες που σχετίζονται με προσφορές και προωθητικές ενέργειες: 'AcceptedCmp1-5', 'Complain', 'Response'.
    Ετσι τα δεδομένα που προκύπτουν περιέχουν χαρακτηριστικά διαφόρων διαστάσεων και διακυμάνσεων. 
    Οι διαφορετικές διακυμάνσεις των χαρακτηριστικών των δεδομένων που επηρεάζουν αρνητικά τη μοντελοποίηση ενός συνόλου δεδομένων. 
    Η λύση είναι να γίνει Standardization ετσι ώστε κάθε στήλη/χαρακτηριστικό/μεταβλητή να έχει μ=0 και σ=1.
    Χρησιμοποιούμε τη μέθοδο συμπίεσης PCA για να μειώσουμε τις διαστάσεις n_components=3. 
    Σχεδιάστρε την τρισδιάστατη προβολή του αποτελέσματος.

8. Υλοποίηση Συσταδιοποίησης (Clustering):
    * Μέθοδος ELBOW για τον προσδιορισμό του αριθμό συστάδων που πρέπει να σχηματιστούν
    * Συσταδιοποίηση μέσω συσσωρευτικής συσταδιοποίησης (Agglomeative και K_Means)
    * Εμφάνιση των σχηματιζόμενων συστάδων μέσω διαγράμματος (π.χ. scatter plot)

9. Προφίλ πελατών (Bonus): 
    Μέσω των διαγραμμάτων σκιαγραφούμε τα προφίλ των συστάδων που σχηματίζονται ώστε να καταλήξετε σε ένα συμπέρασμα σχετικά με το ποίο είναι ο 'σημαντικός' πελάτης και ποιός χρειάζεται περισσότερη προσοχή από την ομάδα μάρκετινγκ του καταστήματος.
    Για την επύτευξη αυτού σχεδιάζουμε μερικά από τα χαρακτηριστικά που είναι ενδεικτικά των προσωπικών χαρακτηριστικών του πελάτη υπό το πρίσμα της συστάδας στην οποία βρίσκονται (π.χ. Age, Is_Parent, Family_Size).
    Για κάθε ένα από τα cluster συγκεντρώστε τα βασικά χαρακτηριστικά.
    <table>
    <tr>
    <th>Cluster 0:</th>
    <td>Ξοδεύουν τα λιγότερα</td>
    <td>Έχουν το μικρότερο εισόδημα</td>
    <td>Εχουν έφηβους στο σπίτι</td>
    <td>Είναι πιο μεγάλοι σε ηλικία</td>
    </tr>
    <tr>
    <th>Cluster 1:</th>
    <td>Ξοδεύουν τα  περισσότερα</td>
    <td>Έχουν το μεγαλύτερο εισόδημα</td>
    <td>Οι περισσότεροι δεν είναι γονείς</td>
    <td>Συμμετείχε ενεργά και στις 6 προωθητικές ενέργειες</td>
    </tr>
    </table>